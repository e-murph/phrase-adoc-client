= Benutzer und Rollen
:revdate1: 2025-01-10
:page-revdate: {revdate}
:page-opendocs-origin: /03.configuration/02.users/02.users.md
:page-opendocs-slug: /Konfiguration/Benutzer

== Konfigurieren von Benutzern und benutzerdefinierten Rollen

Das Menü Einstellungen -> Benutzer und Rollen ermöglicht die Verwaltung von Benutzern und Rollen. Jeder Benutzer wird einer vordefinierten oder benutzerdefinierten Rolle zugewiesen. Benutzer können über die Gruppenintegration mit LDAP/AD oder andere SSO-Systemintegrationen Rollen zugeordnet werden. Detaillierte Anweisungen für jede Art von Verzeichnis- oder SSO-Integration finden Sie im Abschnitt xref:integration.adoc#_directorysso_integration[Unternehmensintegration].

=== Benutzer

Benutzer können direkt in {product-name} konfiguriert oder über Verzeichnisse/SSO integriert werden. Um einen neuen Benutzer in {product-name} zu erstellen, gehen Sie zu Einstellungen -> Benutzer & Rollen und fügen Sie den Benutzer hinzu. Wählen Sie die Rolle des Benutzers aus den vordefinierten Rollen aus, oder erstellen Sie eine benutzerdefinierte Rolle (siehe unten).

Das Standard-Passwort muss mindestens 8 Zeichen lang sein, 1 Großbuchstabe, 1 Kleinbuchstabe, 1 numerisches Zeichen. Diese und andere Anforderungen können von einem Administrator unter Einstellungen -> Benutzer unter Authentifizierung und Sicherheitsrichtlinien geändert werden.

=== Namespace Eingeschränkte Benutzer

Benutzer können auf bestimmte Namensräume beschränkt werden. Wählen Sie zunächst die globale Rolle aus (verwenden Sie "none", wenn Sie keine globale Rolle wünschen), und klicken Sie dann auf die erweiterten Einstellungen.

Wählen Sie einen Rollennamen aus der Liste der Rollen aus und geben Sie dann den/die Namensraum/e ein, den/die der Benutzer zugelassen hat. Im folgenden Beispiel handelt es sich um eine globale Leserrolle (nur Ansicht), aber für den Namensraum "demo" hat der Benutzer Administratorrechte und für den Namensraum "staging" hat der Benutzer CI/Ops-Rechte. Wenn zuvor eine benutzerdefinierte Rolle konfiguriert wurde, kann diese ebenfalls ausgewählt werden.

image:namespace_user_4.png[namespace_user]

[NOTE]
====
Wenn sich ein Benutzer zuvor über eine Unternehmensintegration angemeldet hat, wird sein Identifizierungsanbieter (z. B. OpenID Connect) aufgeführt. Ein Benutzer kann zum Verbundadministrator befördert werden, wenn die Multicluster-Verwaltung verwendet wird, indem der Benutzer ausgewählt und bearbeitet wird.
====

[NOTE]
====
Wenn ein Benutzer mit eingeschränktem Namespace eine Registrierung in Assets in {product-name} konfiguriert, können nur Benutzer mit Zugriff auf diesen Namespace diese Registrierung sehen/prüfen. Globale Benutzer können diese Registrierung sehen/verwalten, aber keine Benutzer mit eingeschränkten Namensräumen/Rollen.
====

=== Rollen

Zu den vorkonfigurierten Rollen gehören Admin, Reader und CI/Ops. Um eine neue benutzerdefinierte Rolle zu erstellen, wählen Sie die Registerkarte Rollen unter Einstellungen -> Benutzer & Rollen. Benennen Sie die Rolle und fügen Sie ihr die entsprechende Lese- oder Schreibberechtigung hinzu.

image:roles_4.png[Rollen]

=== RBAC-Berechtigungen

* Zulassungskontrolle. Verwalten Sie die Regeln der Zulassungskontrolle.
* Audit-Ereignisse. Benachrichtigung anzeigen -> Risikoberichte Protokolle.
* Authentifizierung. Aktivieren Sie die Verzeichnis- und SSO-Konfiguration (oidc/saml/ldap).
* Autorisierung. Erstellen Sie neue Benutzer und benutzerdefinierte Rollen.
* CI Scan. Ermöglicht das Scannen von Bildern über die REST-API. Nützlich für die Konfiguration eines Plug-in-Scanners für die Bauphase.
* Einhaltung der Vorschriften. Erstellen Sie benutzerdefinierte Compliance-Skripte und überprüfen Sie die Ergebnisse von Compliance-Prüfungen.
* Veranstaltung. Zugriff auf Benachrichtigungen -> Ereignisprotokolle.
* Registry Scan. Konfigurieren Sie das Scannen der Registrierung und zeigen Sie die Ergebnisse an.
* Laufzeit-Politik. Verwalten von Richtlinienmenüs für den Richtlinienmodus (Entdecken, Überwachen, Schützen), Netzwerkregeln, Prozessregeln, Regeln für den Dateizugriff, DLP, Paketerfassung, Antwortregeln.
* Laufzeit-Scan. Auslösen und Anzeigen von Schwachstellen-Scans von Containern/Knoten/Plattformen während der Laufzeit.
* Sicherheitsereignis. Zugriff auf Benachrichtigungen -> Sicherheitsereignisprotokolle.
* Systemkonfiguration. Erlauben Sie die Konfiguration der Einstellungen -> Konfiguration.

=== Zuordnung von Gruppen zu Rollen und Namensräumen

Gruppen können auf {product-name} voreingestellten oder benutzerdefinierten Rollen zugeordnet werden. Darüber hinaus kann eine Rolle auf einen oder mehrere Namensräume beschränkt werden.

In der LDAP/AD-, SAML- oder OIDC-Konfiguration in den Einstellungen werden im letzten Abschnitt des Konfigurationsbildschirms Gruppen auf Rollen und Namensräume abgebildet. Wählen Sie zunächst eine Standardrolle, falls vorhanden, für die Zuordnung aus.

image:groups_default_role.png[DefaultRole]

Um eine Gruppe einer Rolle und einem Namespace zuzuordnen, klicken Sie auf Hinzufügen, um eine neue Zuordnung zu erstellen. Wählen Sie eine globale Rolle oder keine. Wenn admin oder FedAdmin ausgewählt ist, gibt dies Schreibzugriff auf alle Namensräume. Wenn eine andere Rolle ausgewählt wird, kann sie durch Auswahl des/der gewünschten Namensraums/Namensräume weiter eingeschränkt werden.

image:group_role_map_namespace.png[AddMapping]

Das folgende Beispiel zeigt einige mögliche Zuordnungen. Demo_admin kann alle Namespaces lesen/anzeigen, hat aber Admin-Rechte für die Namespaces demo und demo2. System_admin hat nur Admin-Rechte für den kube-system-Namensraum.  Und fed_admins hat die voreingestellte Rolle fedAdmin, die Schreibzugriff auf alle Ressourcen in mehreren Clustern ermöglicht.

image:group_role_map_examples.png[MappingExamples]

[IMPORTANT]
====
Wenn der Benutzer mehreren Gruppen angehört, wird die Rolle in der Reihenfolge der Auflistung und der zugewiesenen Rolle der Gruppe als erste zugeordnet. Bitte passen Sie die Reihenfolge der Konfiguration an, um ein korrektes Verhalten zu erreichen, indem Sie die Zuordnungen per Drag & Drop in die entsprechende Reihenfolge in der Liste bringen.
====

=== Multi-Cluster FedAdmin und Admin-Rollen für Primär- und Fernverwaltung

Wenn ein Cluster zu einem primären Cluster xref:multicluster.adoc[befördert] wird, wird der Administrator automatisch zum FedAdmin. Der FedAdmin kann Operationen auf dem primären Rechner durchführen, wie z. B. die Erzeugung eines Verbund-Tokens für die Verbindung mit einem entfernten Cluster sowie die Erstellung von Verbund-Sicherheitsregeln wie Netzwerk-, Prozess-, Datei- und Zugangskontrollregeln.

Multi-Cluster-Verwaltungsrollen sind wie folgt:

* In jedem Cluster kann ein lokaler Administrator oder ein Rancher SSO-Administrator den Cluster zu einem Primärcluster ernennen.
* Ldap/SSO/SAML/OIDC-Benutzer mit Admin-Rollen können einen Cluster nicht in den Primärzustand versetzen.
* Nur der FedAdmin kann das Token generieren, das erforderlich ist, um einen Remote-Cluster mit dem Primary zu verbinden.
* Jeder Administrator, einschließlich ldap/sso/saml/oidc-Benutzer, kann einen entfernten Cluster mit dem primären verbinden, wenn er das Token besitzt.
* Nur der FedAdmin kann einen neuen Benutzer als FedAdmin (oder FedReader) anlegen oder einem bestehenden Benutzer (einschließlich ldap/sso/saml/oidc-Benutzer) die Rolle FedAdmin (oder FedReader) zuweisen.
