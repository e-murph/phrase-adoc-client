= Politique de la fédération
:revdate1: 2024-09-25
:page-revdate: {revdate}
:page-opendocs-origin: /05.policy/12.federated/12.federated.md
:page-opendocs-slug:  /politique/federated

== Politique de la fédération

Après la création d'un cluster maître, des règles fédérées peuvent être créées dans le cluster maître et sont automatiquement propagées à chaque cluster. Cette fonction est utile pour créer des règles globales qui doivent être appliquées à chaque cluster, telles que des règles de réseau globales. Les règles fédérées apparaîtront dans chaque cluster en lecture seule et ne pourront PAS être supprimées ou modifiées par l'administrateur local du cluster.

Pour configurer les règles fédérées, cliquez sur Federated Policy dans le menu déroulant en haut à droite. Vous verrez des onglets pour les groupes, le contrôle d'admission, les règles de réseau et d'autres règles qui peuvent être fédérées. Sélectionnez l'onglet et créez un nouveau groupe ou une nouvelle règle. Dans l'exemple ci-dessous, deux groupes fédérés ont été créés, qui seront propagés à chaque cluster.

image:fed_group.png[FederatedGroup]

La règle de réseau fédéré suivante a été créée pour autoriser l'accès SSL des pods de démonstration du nœud à google.com.

image:fed_network.png[Réseau fédéré]

Une fois que ces règles et groupes ont été propagés vers le(s) cluster(s) distant(s), ils apparaîtront en tant que règles et groupes fédérés dans la console du cluster local.

image:fed_rule_remote.png[FederatedRuleRemote]

Dans l'exemple ci-dessus, la règle fédérée est affichée, ce qui est différent des règles apprises et des règles "créées par l'utilisateur" qui ont été créées dans le cluster local. La règle 1 créée par l'utilisateur peut être sélectionnée pour être modifiée ou supprimée, ce qui n'est pas le cas de la règle Federated. En outre, les règles du réseau fédéré s'affichent toujours en haut de la liste et sont donc prioritaires par rapport aux autres règles.

Les autres règles, telles que le contrôle d'admission, la réponse, le processus et le fichier, se comporteront de la même manière, sauf que l'ordre des règles n'est pertinent que pour les règles du réseau.

Notez que la configuration des règles de processus et de fichier nécessite la sélection d'un groupe fédéré, car ces règles doivent être appliquées à un groupe cible tel que défini dans l'onglet Groupe fédéré. Une fois qu'un nouveau groupe a été configuré dans Federated -> Groups, il apparaîtra comme une option sélectionnable lors de la configuration d'un groupe dans les règles de processus ou de fichier.
