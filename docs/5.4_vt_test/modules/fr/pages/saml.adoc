= SAML (Okta)
:revdate1: 2024-09-27
:page-revdate: {revdate}
:page-opendocs-origin: /08.integration/04.saml/04.saml.md
:page-opendocs-slug:  /intégration/saml

== Configuration SAML IDP

Pour configurer {product-name} afin d'utiliser le serveur SAML IDP d'Okta, il faut d'abord configurer le serveur SAML IDP sur le site Okta.

image:okta.png[Okta]

. Copiez "SAML Redirect URI" depuis {product-name} SAML Setting page, collez-le dans les champs single sign on url, recipient url et destination url d'Okta.
. Chiffrement des assertions : Ce champ *ne* doit *pas être crypté*.
. Déclarations d'attributs : Saisissez l'adresse électronique et le nom d'utilisateur.
. Déclarations d'attributs de groupe : Activez cette option si le mappage des rôles par groupe est nécessaire. Le nom d'attribut par défaut recherché par {product-name} est NVRoleGroup. Si un autre nom d'attribut est utilisé pour l'appartenance de l'utilisateur à un groupe, il peut être personnalisé dans la page SAML Setting de {product-name}.

Configurez les paramètres SAML dans la console {product-name} UI.

image:saml1.png[SAML]

Utilisez le bouton "View Setup Instructions" comme indiqué dans la capture d'écran suivante pour trouver les informations suivantes et les copier dans la page SAML de {product-name}.

. URL du fournisseur d'identité pour l'authentification unique
. Fournisseur d'identité Émetteur
. Certificat X.509
. Indiquer le nom de l'attribut de groupe si une valeur autre que celle par défaut est utilisée.

image:setting.png[Paramètres]

Après l'authentification de l'utilisateur, le rôle approprié peut être dérivé grâce à la configuration du mappage des rôles basé sur les groupes. Pour configurer le mappage des rôles basé sur les groupes,

. Si le mappage des rôles par groupe n'est pas configuré ou si les groupes correspondants ne peuvent être localisés, l'utilisateur authentifié se verra attribuer le rôle par défaut. Si le rôle par défaut est défini sur Aucun, lorsque le mappage des rôles basé sur les groupes échoue, l'utilisateur n'est pas en mesure de se connecter.
. Spécifier une liste de groupes respectivement dans la carte des rôles Admin et Reader. L'attribut de groupe de l'utilisateur est ajouté dans la réponse après l'authentification de l'utilisateur. Si le groupe correspondant est trouvé, le rôle correspondant sera attribué à l'utilisateur.

=== Mappage des groupes aux rôles et aux espaces de noms

Veuillez consulter la section xref:users.adoc#_mapping_groups_to_roles_and_namespaces[Utilisateurs et rôles] pour savoir comment associer des groupes à des rôles prédéfinis et personnalisés ainsi qu'à des espaces de noms dans {product-name}.
